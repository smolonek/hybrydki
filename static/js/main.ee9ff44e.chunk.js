(this.webpackJsonpspa=this.webpackJsonpspa||[]).push([[0],{125:function(e,t,a){e.exports={violet:"Book_violet__21qQn",article:"Book_article__3PM0P",buttonRight:"Book_buttonRight__1u4Ex"}},146:function(e,t,a){e.exports=a(255)},151:function(e,t,a){},152:function(e,t,a){},158:function(e,t,a){},23:function(e,t,a){e.exports={loginForm:"SignUp_loginForm__1kxQz",input:"SignUp_input__GJiKp",label:"SignUp_label__l8yTi",formcontrol:"SignUp_formcontrol__3p9-a",formgroup:"SignUp_formgroup__12h51",mainDiv:"SignUp_mainDiv__4ZgFb",formgroup2:"SignUp_formgroup2__TryMO",backbtn:"SignUp_backbtn__1aoKX"}},254:function(e,t){},255:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(9),o=a.n(l),s=(a(151),a(13)),i=a(8),c=a(18),u=a(19),m=a(20),d=(a(152),a(12)),h=a(51),g=a(37),p=a(282),f=a(287),v=a(298),b=a(256),E=a(17),y=a(33),k=a.n(y),_=a(72),N=a.n(_),w=a(57),S=a.n(w),B=a(71),C=a.n(B),j=a(73),O=a.n(j),I=a(53),A=a.n(I),x=a(133),H=a(285),U=a(286),P=a(288),T=a(289),F=a(290),z=function(e){var t=Object(x.a)({palette:{primary:{main:"#c6c6c6"},type:"dark"}}),a=r.a.useState({password:"",showPassword:!1}),n=Object(g.a)(a,2),l=n[0],o=n[1];return r.a.createElement("div",null,r.a.createElement(p.a,{className:k.a.loginForm},r.a.createElement(H.a,{theme:t},r.a.createElement("form",null,r.a.createElement("div",{className:k.a.backbtn},r.a.createElement(U.a,{component:E.b,to:"/",starticon:r.a.createElement(A.a,null),variant:"contained",className:k.a.backbtn},r.a.createElement(A.a,null))),r.a.createElement(b.a,{variant:"h3",component:"h1",className:k.a.logtext},"Zaloguj si\u0119"),r.a.createElement(b.a,{variant:"p"}),r.a.createElement("div",{className:k.a.formgroup},r.a.createElement(f.a,{className:k.a.formcontrol,variant:"filled"},r.a.createElement(v.a,{htmlFor:"login"},"Login"),r.a.createElement(P.a,{startAdornment:r.a.createElement(S.a,null),className:k.a.input,id:"login"}))),r.a.createElement("div",{className:k.a.formgroup},r.a.createElement(f.a,{className:k.a.formcontrol,variant:"filled"},r.a.createElement(v.a,{htmlFor:"password"},"Has\u0142o"),r.a.createElement(P.a,{className:k.a.input,id:"password",startAdornment:r.a.createElement(C.a,null),type:l.showPassword?"text":"password",endAdornment:r.a.createElement(T.a,{position:"end"},r.a.createElement(U.a,{onClick:function(){o(Object(h.a)({},l,{showPassword:!l.showPassword}))},onMouseDown:function(e){e.preventDefault()}},l.showPassword?r.a.createElement(N.a,null):r.a.createElement(O.a,null)))}))),r.a.createElement("div",null,r.a.createElement(f.a,{className:k.a.formcontrol,variant:"filled"},r.a.createElement(F.a,{variant:"contained"},"Zaloguj")))))),r.a.createElement("div",null))},R=(a(100),a(23),a(84),a(14)),D=a(26),L=(a(158),a(125)),M=a.n(L),V=a(291),q=a(293),J=a(292),Z=a(127),G=a.n(Z),W=a(126),Y=a.n(W),K=a(77),X=a(128),Q=a.n(X),$=Object(V.a)({card:{minWidth:275},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:14},pos:{marginBottom:12}}),ee=function(e){var t=$(),a=(Object(x.a)({palette:{primary:K.a}}),"");console.log(e.authorsLen),a=e.authorsLen>1?"Autorzy: ":"Autor: ";JSON.parse(localStorage.getItem("user"));return r.a.createElement("div",{className:M.a.article},r.a.createElement(p.a,{className:t.card,variant:"outlined"},r.a.createElement(J.a,null,r.a.createElement(b.a,{variant:"h5",component:"h2"},e.title),r.a.createElement(b.a,{className:t.pos,color:"textSecondary"},a," ",e.author),r.a.createElement(b.a,{variant:"body2",component:"p"},"Rok wydania: ",e.publisher)),r.a.createElement(q.a,null,r.a.createElement("div",{style:{width:"-webkit-fill-available"}},r.a.createElement(F.a,{variant:"outlined",color:"default",style:{marginLeft:"0.8em",marginRight:"0.8em"},startIcon:r.a.createElement(Y.a,null),size:"small",onClick:e.deleteClick},"Usu\u0144 ksi\u0105\u017ck\u0119"),r.a.createElement(F.a,{variant:"outlined",color:"default",style:{marginLeft:"0.8em",marginRight:"0.8em"},startIcon:r.a.createElement(G.a,null),size:"small",onClick:e.borrowClick},"Wypo\u017cycz ksi\u0105\u017ck\u0119"),r.a.createElement(F.a,{variant:"outlined",color:"default",style:{marginLeft:"0.8em",marginRight:"0.8em"},startIcon:r.a.createElement(Q.a,null),size:"small",onClick:e.returnClick},"Zwr\xf3\u0107 ksi\u0105\u017ck\u0119")))))},te=a(31),ae=a.n(te),ne=a(300),re=a(16),le=a.n(re);function oe(){var e=JSON.parse(localStorage.getItem("user"));return e&&e.accessToken?{Authorization:"Bearer "+e.accessToken}:{}}var se="http://localhost:8080/api/book/",ie="http://localhost:8080/api/author/",ce=new(function(){function e(){Object(s.a)(this,e)}return Object(i.a)(e,[{key:"deleteBook",value:function(e){return le.a.delete(se+"delete/"+e,{headers:oe()})}},{key:"putBorrowBook",value:function(e){return le.a.put(se+"borrow/"+e,"",{headers:oe()})}},{key:"putReturnBook",value:function(e){return le.a.put(se+"return/"+e,"",{headers:oe()})}},{key:"getPublicContent",value:function(){return le.a.get(se+"get/all",{headers:oe()})}},{key:"getAllBooks",value:function(){var e=JSON.parse(localStorage.getItem("user")),t=new XMLHttpRequest;return t.open("GET",se+"get/all",!1),t.setRequestHeader("Authorization","Bearer "+e.accessToken),t.send(null),200===t.status?(console.log(JSON.parse(t.response)),JSON.parse(t.response)):(console.log("xmlhttprequest nie zadzialalo :??0"),[])}},{key:"getBookById",value:function(e){return le.a.get(se+"get/"+e,{headers:oe()})}},{key:"addNewBook",value:function(e){return le.a.post(se+"add",e,{headers:oe()})}},{key:"addNewAuthor",value:function(e){return le.a.post(ie+"add",e,{headers:oe()})}},{key:"getAllUsers",value:function(){return le.a.get("http://localhost:8080/api/user/get/all",{headers:oe()})}},{key:"deleteUser",value:function(e){return le.a.delete("http://localhost:8080/api/user/delete/"+e,{headers:oe()})}},{key:"deleteAuthor",value:function(e){return le.a.delete(ie+"delete/"+e,{headers:oe()})}},{key:"getAllAuthors",value:function(){var e=JSON.parse(localStorage.getItem("user")),t=new XMLHttpRequest;return t.open("GET",ie+"get/all",!1),t.setRequestHeader("Authorization","Bearer "+e.accessToken),t.send(null),200===t.status?(console.log(JSON.parse(t.response)),JSON.parse(t.response)):(console.log("xmlhttprequest nie zadzialalo :??0"),[])}},{key:"getUserBoard",value:function(){return le.a.get("http://localhost:8080/api/user/get/all",{headers:oe()})}},{key:"getModeratorBoard",value:function(){return le.a.get(se+"mod",{headers:oe()})}},{key:"getAdminBoard",value:function(){return le.a.get(se+"admin",{headers:oe()})}}]),e}()),ue=a(76),me=a(299),de=a(85),he=a.n(de),ge=a(21),pe=a(74),fe=a.n(pe),ve=a(47),be=a.n(ve),Ee=a(75),ye=a.n(Ee),ke="http://localhost:8080/api/auth/",_e=new(function(){function e(){Object(s.a)(this,e)}return Object(i.a)(e,[{key:"login",value:function(e,t){return le.a.post(ke+"signin",{username:e,password:t}).then((function(e){return e.data.accessToken&&localStorage.setItem("user",JSON.stringify(e.data)),e.data}))}},{key:"logout",value:function(){localStorage.removeItem("user"),console.log("usunieta")}},{key:"register",value:function(e,t,a){return le.a.post(ke+"signup",{username:e,email:t,password:a})}},{key:"getCurrentUser",value:function(){return JSON.parse(localStorage.getItem("user"))}}]),e}()),Ne=a(58),we=a.n(Ne),Se=function(e){if(!e)return r.a.createElement("div",{className:"alert alert-danger",role:"alert"},"This field is required!")},Be=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleLogin=a.handleLogin.bind(Object(ge.a)(a)),a.onChangeUsername=a.onChangeUsername.bind(Object(ge.a)(a)),a.onChangePassword=a.onChangePassword.bind(Object(ge.a)(a)),a.state={username:"",password:"",loading:!1,message:""},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"onChangeUsername",value:function(e){this.setState({username:e.target.value})}},{key:"onChangePassword",value:function(e){this.setState({password:e.target.value})}},{key:"handleLogin",value:function(e){var t=this;e.preventDefault(),this.setState({message:"",loading:!0}),this.form.validateAll(),0===this.checkBtn.context._errors.length?_e.login(this.state.username,this.state.password).then((function(){t.props.history.push("/"),window.location.reload()}),(function(e){var a=e.response&&e.response.data&&e.response.data.message||e.message||e.toString();t.setState({loading:!1,message:a})})):this.setState({loading:!1})}},{key:"render",value:function(){var e=this;Object(x.a)({palette:{primary:{main:"#c6c6c6"},type:"dark"}});return r.a.createElement("div",null,r.a.createElement("div",{className:we.a.bgcolor},r.a.createElement("div",{className:we.a.divstyle},r.a.createElement("br",null),r.a.createElement("h1",null,"Zaloguj si\u0119"),r.a.createElement("img",Object(d.a)({src:"//ssl.gstatic.com/accounts/ui/avatar_2x.png",alt:"profile-img",className:"profile-img-card"},"className",we.a.imgmargin)),r.a.createElement(fe.a,{className:we.a.fromstyle,onSubmit:this.handleLogin,ref:function(t){e.form=t}},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"username"},"Username"),r.a.createElement(be.a,{type:"text",className:"form-control",name:"username",value:this.state.username,onChange:this.onChangeUsername,validations:[Se]})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement(be.a,{type:"password",className:"form-control",name:"password",value:this.state.password,onChange:this.onChangePassword,validations:[Se]})),r.a.createElement("div",{className:"form-group"},r.a.createElement("button",{className:"btn btn-primary",style:{width:"100%",backgroundColor:"#2196f3",color:"aliceblue"},disabled:this.state.loading},this.state.loading&&r.a.createElement("span",{className:"spinner-border spinner-border-sm"}),r.a.createElement("span",null,"Login"))),this.state.message&&r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"alert alert-danger",role:"alert"},this.state.message)),r.a.createElement(ye.a,{style:{display:"none"},ref:function(t){e.checkBtn=t}})))))}}]),t}(n.Component),Ce=a(129),je=a.n(Ce),Oe=a(28),Ie=a.n(Oe),Ae=a(297),xe=a(130),He=a.n(xe),Ue=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={books:[],authors:[],showBooks:!0,updateButtonShow:!1,index:null,searchTerm:"",value:"",data:[],sort:"",title:"",author:"",publisher:"",year:"",price:"",formErrors:{title:"",author:"",publisher:"",year:"",price:""},titleValid:!1,authorValid:!1,publisherValid:!1,yearValid:!1,priceValid:!1,formValid:!1,intervalId:0},a.handleChangeFilter=function(e){var t=e.target.value;a.setState({value:t})},a.borrowBookHandler=function(e){ce.putBorrowBook(e).then((function(e){console.log(e),alert("Pomy\u015blnie wypo\u017cyczono ksi\u0105\u017ck\u0119")}),(function(e){console.log(e.response.data.message),alert(e.response.data.message)}))},a.returnBookHandler=function(e){ce.putReturnBook(e).then((function(e){console.log(e),alert("Pomy\u015blnie oddano ksi\u0105\u017ck\u0119")}),(function(e){console.log(e.response.data.message),alert(e.response.data.message)}))},a.deleteArticleHandler=function(e){var t=Object(D.a)(a.state.books);ce.deleteBook(t[e].id).then((function(e){console.log(e),alert("Pomy\u015blnie usuni\u0119to ksi\u0105\u017ck\u0119 ")}),(function(e){alert(e.response.data.message)})),t.splice(e,1),a.setState({books:t})},a.updateBookHandler=function(e){a.scrollToTop();a.state.updateButtonShow;a.setState({updateButtonShow:!0});var t=a.state.books;a.setState({index:e}),document.getElementById("title").value=t[e].title,document.getElementById("author").value=t[e].author,document.getElementById("publisher").value=t[e].publisher,document.getElementById("year").value=t[e].year,document.getElementById("price").value=t[e].price},a.addBookToState=function(){var e=document.getElementById("title").value,t=Ie()("#select-multiple-native").val(),n={book:{title:e,publicationYear:document.getElementById("publisher").value},idList:t},r=Object(D.a)(a.state.books);r.push(n),a.setState({books:r}),document.getElementById("title").value="",document.getElementById("publisher").value="",Ie()("#select-multiple-native").val([]),ce.addNewBook(n).then((function(e){console.log(e)}),(function(e){console.log(e.toString())}))},a.checkIfAuthorExists=function(e){for(var t=a.state.authors,n=0;n<t.length;n++)if(t[n].name===e)return!0;return!1},a.updateBookToState=function(){var e=a.state.index,t=Object(D.a)(a.state.books),n=document.getElementById("title").value,r=document.getElementById("author").value,l=document.getElementById("publisher").value,o=document.getElementById("year").value,s=document.getElementById("price").value,i={id:t[e].id,title:n,author:r,publisher:l,year:o,price:s};t.splice(e,1,i),a.setState({books:t}),le.a.put("http://localhost:3001/books/"+t[e].id,i).then((function(e){console.log(e)})),document.getElementById("title").value="",document.getElementById("author").value="",document.getElementById("publisher").value="",document.getElementById("year").value="",document.getElementById("price").value="",a.setState({updateButtonShow:!1})},a.toggleBooksHandler=function(){var e=a.state.showBooks;a.setState({showBooks:!e})},a.setSort=function(e){a.setState({sort:e});var t=Object(D.a)(a.state.books),n=a.state.books;0===a.state.value?a.setState({books:t}):1===e?(n.sort(a.comparePricesAscending),a.setState({books:n}),console.log(a.state.sort)):2===e?(n.sort(a.comparePricesDescending),a.setState({books:n})):3===e?(n.sort(a.compareTitles),a.setState({books:n})):4===e&&(n.sort(a.compareAuthors),a.setState({books:n}))},a.handleChange=function(e){a.setSort(e.target.value)},a.getAuthorName=function(e){for(var t=a.state.books[e],n=Number(t.author_id),r=a.state.authors,l=0;l<r.length;l++)if(r[l].id===n)return r[l].name;return"author.name"},a.getAuthorNameById=function(e){for(var t=a.state.authors,n=0;n<t.length;n++)if(t[n].id===e)return t[n].name;return null},a.validator=new je.a,a.state={books:[],authors:[],authorsAPI:[],showBooks:!1,updateButtonShow:!1,index:null,searchTerm:"",value:"",data:[],sort:""},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;if(_e.getCurrentUser()){ce.getPublicContent().then((function(t){e.setState({books:t.data},(function(){console.log("Pomy\u015blnie pobrano ksi\u0105\u017cki")})),console.log(t.data)}),(function(t){e.setState({books:t.response&&t.response.data||t.message||t.toString()},(function(){console.log("nie udalo sie pobrac ksiazek")}))}));var t=ce.getAllAuthors();this.setState({authorsAPI:t},(function(){console.log(this.state.authorsAPI)}))}}},{key:"$",value:function(){Ie.a.fn.inputFilter=function(e){return this.on("input keydown keyup mousedown mouseup select contextmenu drop",(function(){e(this.value)?(this.oldValue=this.value,this.oldSelectionStart=this.selectionStart,this.oldSelectionEnd=this.selectionEnd):this.hasOwnProperty("oldValue")&&(this.value=this.oldValue,this.setSelectionRange(this.oldSelectionStart,this.oldSelectionEnd))}))}}},{key:"$",value:function(){Ie()("#title").keypress((function(e){var t=String.fromCharCode(e.which);if(console.log(t+" : "+e.which),!t.match(/[A-Za-z]/))return!1}))}},{key:"scrollStep",value:function(){0===window.pageYOffset&&clearInterval(this.state.intervalId),window.scroll(0,window.pageYOffset-this.props.scrollStepInPx)}},{key:"scrollToTop",value:function(){var e=setInterval(this.scrollStep.bind(this),"0");this.setState({intervalId:e})}},{key:"compareTitles",value:function(e,t){var a=e.title.toUpperCase(),n=t.title.toUpperCase(),r=0;return a>n?r=1:a<n&&(r=-1),r}},{key:"comparePricesAscending",value:function(e,t){var a=Number(e.price),n=Number(t.price),r=0;return a>n?r=1:a<n&&(r=-1),r}},{key:"comparePricesDescending",value:function(e,t){var a=Number(e.price),n=Number(t.price),r=0;return a>n?r=1:a<n&&(r=-1),-1*r}},{key:"compareAuthors",value:function(e,t){var a=e.author.toUpperCase(),n=t.author.toUpperCase(),r=0;return a>n?r=1:a<n&&(r=-1),r}},{key:"findObjectByKey",value:function(e,t,a){for(var n=0;n<e.length;n++)if(e[n][t]===a)return e[n];return null}},{key:"handleUserInput",value:function(e){var t=this,a=e.target.name,n=e.target.value;this.setState(Object(d.a)({},a,n),(function(){t.validateField(a,n)}))}},{key:"validateField",value:function(e,t){var a=this.state.formErrors,n=this.state.emailValid,r=this.state.passwordValid,l=this.state.titleValid;this.state.formValid;switch(e){case"email":n=t.match(/^([\w.%+-]+)@([\w-]+\.)+([\w]{2,})$/i),a.email=n?"":" is invalid";break;case"password":r=t.length>=6,a.password=r?"":" is too short";break;case"title":l>2&&this.setState({formValid:!0})}this.setState({formErrors:a,emailValid:n,passwordValid:r},this.validateForm)}},{key:"checkselect",value:function(){var e=document.getElementById("select-multiple-native"),t=(e.options[e.selectedIndex].value,Ie()("#select-multiple-native").val());console.log(t)}},{key:"validateForm",value:function(){this.setState({formValid:this.state.emailValid&&this.state.passwordValid})}},{key:"render",value:function(){var e,t=this,a=Object(x.a)({palette:{primary:{main:"#c6c6c6"},type:"dark"}}),n=this.state,l=(n.data,n.value),o=r.a.createElement(ue.a,{value:l,data:this.state.books,renderResults:function(e){return r.a.createElement("div",null,e.map((function(e,a){var n,l=e.authors[0].firstName+" "+e.authors[0].lastName;for(n=1;n<e.authors.length;n++)l+=", "+e.authors[n].firstName+" "+e.authors[n].lastName;return n=1,r.a.createElement("div",null,r.a.createElement(ee,{title:e.title,author:l,deleteClick:function(){return t.deleteArticleHandler(a)},updateClick:function(){return t.updateBookHandler(a)},borrowClick:function(){return t.borrowBookHandler(e.id)},returnClick:function(){return t.returnBookHandler(e.id)},key:e.id,authorsLen:e.authors.length,publisher:e.publicationYear}))})))}});this.state.authors.length,e=this.state.books.map((function(e,a){JSON.parse(JSON.stringify(t.state.authors)).findIndex((function(t){return t.id===e.author_id}));var n,l=e.authors[0].firstName+" "+e.authors[0].lastName;for(n=1;n<e.authors.length;n++)l+=", "+e.authors[n].firstName+" "+e.authors[n].lastName;return n=1,r.a.createElement(ee,{title:e.title,author:l,deleteClick:function(){return t.deleteArticleHandler(a)},updateClick:function(){return t.updateBookHandler(a)},borrowClick:function(){return t.borrowBookHandler(e.id)},returnClick:function(){return t.returnBookHandler(e.id)},key:e.id,user:e.user,publisher:e.publicationYear,year:e.year,authorsLen:e.authors.length,price:e.price})})),this.state.updateButtonShow;var s=[];1===this.state.books.length&&s.push("OneArticle"),this.state.books.length>=4?s.push("GreenArticles"):s.push("OrangeArticles");var i=Object(x.a)({palette:{primary:K.a}});r.a.createElement(H.a,{theme:i},r.a.createElement(F.a,{className:ae.a.addbtn,id:"addButton",onClick:this.addBookToState,variant:"contained",color:"primary",startIcon:r.a.createElement(he.a,null)},"Dodaj ksi\u0105\u017ck\u0119")),r.a.createElement(F.a,{style:{margin:10},id:"addButton",onClick:this.updateBookToState,variant:"contained",color:"primary"},"Aktualizuj ksi\u0105\u017ck\u0119"),Object(x.a)();return r.a.createElement("div",{className:ae.a.App},r.a.createElement(H.a,{theme:a},r.a.createElement("div",{className:ae.a.mainCol},r.a.createElement("div",{className:ae.a.sort},r.a.createElement(f.a,{className:ae.a.left,variant:"standard"},r.a.createElement(v.a,{id:"demo-simple-select-filled-label"},"Sortuj"),r.a.createElement(Ae.a,{labelId:"demo-simple-select-filled-label",id:"demo-simple-select-filled",value:this.state.sort,onChange:this.handleChange,style:{minWidth:"200px"}},r.a.createElement(me.a,{value:0},r.a.createElement("em",null,"brak")),r.a.createElement(me.a,{value:1},"Cena: od najni\u017cszej"),r.a.createElement(me.a,{value:2},"Cena: od najwy\u017cszej"),r.a.createElement(me.a,{value:3},"Tytu\u0142: od A do Z"),r.a.createElement(me.a,{value:4},"Autor: od A do Z"))),r.a.createElement(ne.a,{value:l,className:ae.a.right,label:"Filtruj",onChange:this.handleChangeFilter,InputProps:{startAdornment:r.a.createElement(T.a,{position:"start"},r.a.createElement(He.a,null))}})),r.a.createElement("div",null,this.state.value?o:e))))}}]),t}(n.Component),Pe=(a(180),a(131)),Te=a(59),Fe=a.n(Te),ze=function(e){if(!e)return r.a.createElement("div",{className:"alert alert-danger",role:"alert",style:{width:"208px"}},"This field is required!")},Re=function(e){if(!Object(Pe.isEmail)(e))return r.a.createElement("div",{className:"alert alert-danger",role:"alert",style:{width:"208px"}},"This is not a valid email.")},De=function(e){if(e.length<3||e.length>20)return r.a.createElement("div",{className:"alert alert-danger",role:"alert",style:{width:"208px"}},"The username must be between 3 and 20 characters.")},Le=function(e){if(e.length<6||e.length>40)return r.a.createElement("div",{className:"alert alert-danger",role:"alert",style:{width:"208px"}},"The password must be between 6 and 40 characters.")},Me=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleRegister=a.handleRegister.bind(Object(ge.a)(a)),a.onChangeUsername=a.onChangeUsername.bind(Object(ge.a)(a)),a.onChangeEmail=a.onChangeEmail.bind(Object(ge.a)(a)),a.onChangePassword=a.onChangePassword.bind(Object(ge.a)(a)),a.state={username:"",email:"",password:"",successful:!1,message:""},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"onChangeUsername",value:function(e){this.setState({username:e.target.value})}},{key:"onChangeEmail",value:function(e){this.setState({email:e.target.value})}},{key:"onChangePassword",value:function(e){this.setState({password:e.target.value})}},{key:"handleRegister",value:function(e){var t=this;e.preventDefault(),this.setState({message:"",successful:!1}),this.form.validateAll(),0===this.checkBtn.context._errors.length&&_e.register(this.state.username,this.state.email,this.state.password).then((function(e){t.setState({message:e.data.message,successful:!0})}),(function(e){var a=e.response&&e.response.data&&e.response.data.message||e.message||e.toString();t.setState({successful:!1,message:a})}))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:Fe.a.bgcolor},r.a.createElement("div",{className:Fe.a.divstyle},r.a.createElement("br",null),r.a.createElement("h1",null,"Zarejestruj si\u0119"),r.a.createElement("img",Object(d.a)({src:"//ssl.gstatic.com/accounts/ui/avatar_2x.png",alt:"profile-img",className:"profile-img-card"},"className",Fe.a.imgmargin)),r.a.createElement(fe.a,{onSubmit:this.handleRegister,className:Fe.a.formstyle,ref:function(t){e.form=t}},!this.state.successful&&r.a.createElement("div",null,r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"username"},"Username"),r.a.createElement(be.a,{type:"text",className:"form-control",name:"username",value:this.state.username,onChange:this.onChangeUsername,validations:[ze,De]})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"email"},"Email"),r.a.createElement(be.a,{type:"text",className:"form-control",name:"email",value:this.state.email,onChange:this.onChangeEmail,validations:[ze,Re]})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement(be.a,{type:"password",className:"form-control",name:"password",value:this.state.password,onChange:this.onChangePassword,validations:[ze,Le]})),r.a.createElement("div",{className:"form-group"},r.a.createElement("button",{className:"btn btn-primary btn-block"},"Sign Up"))),this.state.message&&r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:this.state.successful?"alert alert-success":"alert alert-danger",role:"alert"},this.state.message)),r.a.createElement(ye.a,{style:{display:"none"},ref:function(t){e.checkBtn=t}}))))}}]),t}(n.Component),Ve=(n.Component,function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={currentUser:_e.getCurrentUser()},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.state.currentUser;return r.a.createElement("div",{className:"container"},r.a.createElement("header",{className:"jumbotron"},r.a.createElement("h3",null,r.a.createElement("strong",null,e.username)," Profile")),r.a.createElement("p",{style:{color:"aliceblue"}},r.a.createElement("strong",null,"Token:")," ",e.accessToken.substring(0,20)," ..."," ",e.accessToken.substr(e.accessToken.length-20)),r.a.createElement("p",{style:{color:"aliceblue"}},r.a.createElement("strong",null,"Id:")," ",e.id),r.a.createElement("p",{style:{color:"aliceblue"}},r.a.createElement("strong",null,"Email:")," ",e.email),r.a.createElement("p",{style:{color:"aliceblue"}},r.a.createElement("strong",null,"Authorities:"),r.a.createElement("ul",null,e.roles&&e.roles.map((function(e,t){return r.a.createElement("li",{key:t},e)})))))}}]),t}(n.Component)),qe=(n.Component,a(254),a(34)),Je=a.n(qe),Ze=a(132),Ge=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).addBook=function(){var e=document.getElementById("title").value,t=Ie()("#select-multiple-native").val(),a={book:{title:e,publicationYear:document.getElementById("publisher").value},idList:t};document.getElementById("title").value="",document.getElementById("publisher").value="",Ie()("#select-multiple-native").val([]),ce.addNewBook(a).then((function(e){console.log(e),alert("Pomy\u015blnie dodano ksi\u0105\u017ck\u0119\ud83d\ude0e")}),(function(e){console.log(e.toString()),alert("Dodawanie ksi\u0105\u017cki nie powiod\u0142o si\u0119\ud83d\ude22")}))},a.addAuthor=function(){var e={firstName:document.getElementById("firstName").value,lastName:document.getElementById("lastName").value};ce.addNewAuthor(e).then((function(e){a.setState({succses:!0,firstTime:!1}),a.displaySuccess()}),(function(e){console.log(e.toString()),a.setState({success:!1,firstTime:!1})}))},a.displaySuccess=function(){document.getElementById("success").style.display="block",setTimeout((function(){document.getElementById("firstName").value="",document.getElementById("lastName").value="",document.getElementById("success").style.display="none"}),2e3),window.location.reload()},a.handleChangeFilter=function(e){var t=e.target.value;a.setState({value:t})},a.state={authorsAPI:[],content:"asd",succses:!1,firstTime:!0,users:[],search:[],valueUsers:[],valueAuthors:[]},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;ce.getAllUsers().then((function(t){e.setState({users:t.data,search:t.data},(function(){console.log(this.state.users)}))}),(function(e){console.log(e.toString())}));var t=ce.getAllAuthors();this.setState({authorsAPI:t},(function(){console.log(this.state.authorsAPI)}))}},{key:"displayMessage",value:function(){return 1==this.state.succses&&0==this.state.firstTime?r.a.createElement("div",{id:"success",className:Je.a.success},"Dodano autora"):0==this.state.succses&&0==!this.state.firstTime?r.a.createElement("div",{id:"failed",className:Je.a.failed},"Nie uda\u0142o si\u0119 doda\u0107 autora"):r.a.createElement("div",null)}},{key:"displayFailed",value:function(){document.getElementById("failed").style.display="block",setTimeout((function(){document.getElementById("firstName").value="",document.getElementById("lastName").value="",document.getElementById("failed").style.display="none"}),2e3)}},{key:"emptydiv",value:function(){return r.a.createElement("div",null)}},{key:"deleteUser",value:function(){var e=JSON.parse(localStorage.getItem("user")),t=Ie()("#exampleFormControlSelect2").val();t===e.id.toString()?alert("Nie mo\u017cesz usun\u0105c samego siebie"):(ce.deleteUser(t),Ie()("#exampleFormControlSelect2 option[value='"+t+"']").remove(),alert("Pomy\u015blnie usuni\u0119to u\u017cytkownika"))}},{key:"deleteAuthor",value:function(){var e=Ie()("#exampleFormControlSelect").val();console.log(e),ce.deleteAuthor(e).then((function(t){console.log(t.data),Ie()("#exampleFormControlSelect option[value='"+e+"']").remove(),alert("Pomy\u015blnie usuni\u0119to autora")}),(function(e){console.log(e.response.data),alert("Nie uda\u0142o si\u0119 usun\u0105\u0107 autora. Sprawd\u017a czy dany autor nie jest przypisany do jakiej\u015b ksi\u0105\u017cki - je\u015bli jest najpierw usu\u0144 t\u0105 ksi\u0105\u017ck\u0119")}))}},{key:"render",value:function(){r.a.createElement("div",{id:"success",className:Je.a.success},"Dodano autora"),r.a.createElement("div",{id:"failed",className:Je.a.failed},"Nie uda\u0142o si\u0119 doda\u0107 autora"),Object(x.a)({palette:{primary:Ze.green}});var e,t,a=r.a.createElement("button",{onClick:this.addBook,type:"button",className:"btn btn-primary"},"Dodaj"),n=this.state.value,l=r.a.createElement(ue.a,{value:n,data:this.state.users,renderResults:function(e){return e.map((function(e,t){return r.a.createElement("option",{style:{marginBottom:"0.3em"},key:e.id,value:e.id},"ID: ",e.id," Login: ",e.username," Email: ",e.email)}))}});return e=this.state.users.map((function(e){return r.a.createElement("option",{style:{marginBottom:"0.3em"},key:e.id,value:e.id},"ID: ",e.id," Login: ",e.username," Email: ",e.email)})),t=this.state.authorsAPI.map((function(e){return r.a.createElement("option",{style:{marginBottom:"0.3em"},key:e.id,value:e.id},e.firstName," ",e.lastName)})),r.a.createElement("div",{className:Je.a.maindiv},r.a.createElement("div",{className:Je.a.container},r.a.createElement("h2",null,"Dodaj now\u0105 ksi\u0105\u017ck\u0119"),r.a.createElement("form",{autoComplete:"off"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"title"},"Tytu\u0142"),r.a.createElement("input",{required:!0,type:"text",placeholder:"Przyk\u0142adowy tytu\u0142",className:"form-control",id:"title"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"publisher"},"Rok wydania"),r.a.createElement("input",{required:!0,type:"text",placeholder:"2137",className:"form-control",id:"publisher"})),r.a.createElement("div",null,r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"select-multiple-native"},"Autor/autorzy"),r.a.createElement("select",{multiple:!0,size:"7",className:"form-control",id:"select-multiple-native"},this.state.authorsAPI.map((function(e){return r.a.createElement("option",{style:{marginBottom:"0.3em"},key:e.id,value:e.id},e.firstName," ",e.lastName)})))))),a,r.a.createElement("br",null)),r.a.createElement("div",{className:Je.a.container},r.a.createElement("h2",null,"Dodaj nowego autora"),r.a.createElement("form",null,r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"firstName"},"Imi\u0119"),r.a.createElement("input",{required:!0,type:"text",placeholder:"Jan",className:"form-control",id:"firstName"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"lastName"},"Nazwisko"),r.a.createElement("input",{required:!0,type:"text",placeholder:"Kowalski",className:"form-control",id:"lastName"})),r.a.createElement("div",null,r.a.createElement("button",{onClick:this.addAuthor,type:"button",className:"btn btn-primary"},"Dodaj"),r.a.createElement("div",{id:"success",style:{display:"none"},className:Je.a.success},"Dodano autora"),r.a.createElement("div",{id:"failed",style:{display:"none"},className:Je.a.failed},"Nie uda\u0142o si\u0119 doda\u0107 autora")))),r.a.createElement("div",{className:Je.a.container},r.a.createElement("h2",null,"Lista autor\xf3w"),r.a.createElement("div",{className:"input-group mb-3"},r.a.createElement("div",{className:"input-group-prepend"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("select",{size:"7",className:"form-control",id:"exampleFormControlSelect"},t),r.a.createElement("button",{onClick:this.deleteAuthor,type:"button",style:{width:"-webkit-fill-available",marginTop:"1em"},className:"btn btn-danger"},"Usu\u0144 wybranego autora"))),r.a.createElement("div",{className:Je.a.container},r.a.createElement("h2",null,"Lista u\u017cytkownik\xf3w"),r.a.createElement("div",{className:"input-group mb-3"},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("span",{className:"input-group-text",id:"basic-addon1"},r.a.createElement("svg",{className:"bi bi-search",width:"1em",height:"1em",viewBox:"0 0 16 16",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{fillRule:"evenodd",d:"M10.442 10.442a1 1 0 0 1 1.415 0l3.85 3.85a1 1 0 0 1-1.414 1.415l-3.85-3.85a1 1 0 0 1 0-1.415z"}),r.a.createElement("path",{fillRule:"evenodd",d:"M6.5 12a5.5 5.5 0 1 0 0-11 5.5 5.5 0 0 0 0 11zM13 6.5a6.5 6.5 0 1 1-13 0 6.5 6.5 0 0 1 13 0z"})))),r.a.createElement("input",{type:"text",value:n,className:"form-control",placeholder:"Wpisz email lub login","aria-label":"Username","aria-describedby":"basic-addon1",onChange:this.handleChangeFilter})),r.a.createElement("div",{className:"form-group"},r.a.createElement("select",{size:"7",className:"form-control",id:"exampleFormControlSelect2"},this.state.value?l:e),r.a.createElement("button",{onClick:this.deleteUser,type:"button",style:{width:"-webkit-fill-available",marginTop:"1em"},className:"btn btn-danger"},"Usu\u0144 wybranego u\u017cytkownika"))))}}]),t}(n.Component);a(295),a(296),Object(V.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1}}}));Object(V.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1}}}));var We=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={showModeratorBoard:!1,showAdminBoard:!1,currentUser:void 0},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=_e.getCurrentUser();e&&this.setState({currentUser:_e.getCurrentUser(),showModeratorBoard:e.roles.includes("ROLE_MODERATOR"),showAdminBoard:e.roles.includes("ROLE_ADMIN")})}},{key:"logOut",value:function(){_e.logout()}},{key:"render",value:function(){var e=this.state,t=e.currentUser,a=e.showModeratorBoard,n=e.showAdminBoard,l=Object(x.a)({palette:{main:{secondary:"#424242"},type:"dark"}});_e.getCurrentUser;return r.a.createElement("div",{className:"app"},r.a.createElement(H.a,{theme:l},r.a.createElement(E.a,null,r.a.createElement("div",null,r.a.createElement("nav",{className:"navbar navbar-expand navbar-dark bg-dark",style:{padding:".1em 1rem"}},r.a.createElement("a",{href:"/home",className:"navbar-brand"},"Programowanie Hybrydowe"),r.a.createElement("div",{className:"navbar-nav mr-auto"},r.a.createElement("li",{className:"nav-item"},r.a.createElement("a",{href:"/",className:"nav-link"},"Home")),a&&r.a.createElement("li",{className:"nav-item"},r.a.createElement(E.b,{to:"/mod",className:"nav-link"},"Moderator Board")),n&&r.a.createElement("li",{className:"nav-item"},r.a.createElement("a",{href:"/admin",className:"nav-link"},"Admin board"))),t?r.a.createElement("div",{className:"navbar-nav ml-auto"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(F.a,{href:"/profile",className:ae.a.loginButton,style:{margin:10},id:"loginButton",color:"default"},t.username)),r.a.createElement("li",{className:"nav-item"},r.a.createElement(F.a,{href:"/Login",className:ae.a.loginButton,style:{margin:10},id:"loginButton",variant:"outlined",onClick:this.logOut},"Log out"))):r.a.createElement("div",{className:"navbar-nav ml-auto"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(F.a,{href:"/Login",className:ae.a.loginButton,style:{margin:10},id:"loginButton",variant:"contained"},"Login XDD")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(F.a,{href:"/Register",className:ae.a.loginButton,style:{margin:10},id:"loginButton",variant:"contained"},"Register")))))),r.a.createElement(Ye,null)))}}]),t}(n.Component),Ye=function(){return r.a.createElement(R.c,null,r.a.createElement(R.a,{path:"/Register",component:Me}),r.a.createElement(R.a,{path:"/Login",component:Be}),r.a.createElement(R.a,{path:"/SignIn",component:z}),r.a.createElement(R.a,{path:"/profile",component:Ve}),r.a.createElement(R.a,{path:"/admin",component:Ge}),r.a.createElement(R.a,{path:"/",component:Ue}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(E.a,null,r.a.createElement(We,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},31:function(e,t,a){e.exports={toggleButton:"Home_toggleButton__il9OY",red:"Home_red__jrH99",container:"Home_container__kWKIP","button-container":"Home_button-container__26AwW","form-radio":"Home_form-radio__1tAAS","form-group":"Home_form-group__3nfIR","form-inline":"Home_form-inline__5NZbM",btn:"Home_btn__2a3ZU","form-help":"Home_form-help__GeT-o",checkbox:"Home_checkbox__1VGZd","control-label":"Home_control-label__2kA1V",bar:"Home_bar__paAV-","form-file":"Home_form-file__IAU_e","has-value":"Home_has-value__1MgEA",radio:"Home_radio__2lPxV",helper:"Home_helper__2Snd1","has-error":"Home_has-error__2z1e0",legend:"Home_legend__2I0sG",button:"Home_button__2-BEX",App:"Home_App__2lain",MyForm:"Home_MyForm__2bj_u",sort:"Home_sort__14_we",mainCol:"Home_mainCol__68y0e",form:"Home_form__2zyWc",left:"Home_left__33zeC",right:"Home_right__1lTfD",loginButton:"Home_loginButton__ZA-3T",addbtn:"Home_addbtn__m2_J4"}},33:function(e,t,a){e.exports={loginForm:"SignIn_loginForm__1qG5d",input:"SignIn_input__V5gYm",label:"SignIn_label__2rPcQ",formcontrol:"SignIn_formcontrol__3Oe1S",formgroup:"SignIn_formgroup__3bTKG",mainDiv:"SignIn_mainDiv__1q9Ue",formgroup2:"SignIn_formgroup2__1StcF",backbtn:"SignIn_backbtn__1ZtlM"}},34:function(e,t,a){e.exports={maindiv:"admin_maindiv__3SFXC",submaindiv:"admin_submaindiv__2dH2f",container:"admin_container__2q4G4",success:"admin_success__2r5QF",failed:"admin_failed__1r6Ej",usunbtn:"admin_usunbtn__25tj8"}},58:function(e,t,a){e.exports={divstyle:"login_divstyle__1Vfkb",formstyle:"login_formstyle__3g8dD",bgcolor:"login_bgcolor__2kksM",imgmargin:"login_imgmargin__rZ4e_",loginbtn:"login_loginbtn__ZETIi"}},59:function(e,t,a){e.exports={divstyle:"register_divstyle__13qho",formstyle:"register_formstyle__3abed",bgcolor:"register_bgcolor__1fch6",imgmargin:"register_imgmargin__3tQqK"}}},[[146,1,2]]]);
//# sourceMappingURL=main.ee9ff44e.chunk.js.map